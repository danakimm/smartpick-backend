import asyncio
import os
from app.agents.spec_agent import SpecRecommender  # SpecRecommender í´ë˜ìŠ¤ê°€ ì •ì˜ëœ íŒŒì¼ì„ import

# í…ŒìŠ¤íŠ¸ìš© ì‚¬ìš©ì ì…ë ¥ ë°ì´í„°
user_input = {
    "í•„ìˆ˜_ìŠ¤í™": {
        "ì„±ëŠ¥": [
            "4K í•´ìƒë„ ì§€ì›", "8192 ì´ìƒì˜ ì••ë ¥ ê°ì§€ ë ˆë²¨", "íœ í‹¸íŠ¸ ê°ì§€ ê¸°ëŠ¥",
            "ìµœì†Œ 8GB RAM", "ì¿¼ë“œì½”ì–´ í”„ë¡œì„¸ì„œ"
        ],
        "í•˜ë“œì›¨ì–´": [
            "ìµœì†Œ 10ì¸ì¹˜ ì´ìƒì˜ ë””ìŠ¤í”Œë ˆì´", "ìƒ‰ ì •í™•ë„ê°€ ë†’ì€ IPS ë˜ëŠ” OLED íŒ¨ë„",
            "ê·¸ë˜í”½ ì‘ì—…ì„ ìœ„í•œ dedicated GPU ë˜ëŠ” ê°•ë ¥í•œ integrated GPU"
        ],
        "ê¸°ëŠ¥": [
            "ì •ë°€í•œ íœ ì••ë ¥ ê°ì§€", "í‹¸íŠ¸ ì¸ì‹ ê¸°ëŠ¥", "ê·¸ë˜í”½ ë””ìì¸ ì†Œí”„íŠ¸ì›¨ì–´ì™€ì˜ í˜¸í™˜ì„±"
        ]
    },
    "ì„ í˜¸_ìŠ¤í™": {
        "ì„±ëŠ¥": ["12ì¸ì¹˜ ì´ìƒì˜ ë””ìŠ¤í”Œë ˆì´", "16GB ì´ìƒì˜ RAM", "ì˜¥íƒ€ì½”ì–´ í”„ë¡œì„¸ì„œ"],
        "í•˜ë“œì›¨ì–´": ["OLED ë””ìŠ¤í”Œë ˆì´", "dedicated GPU"],
        "ê¸°ëŠ¥": ["ë¬´ì„  ì—°ê²° ê¸°ëŠ¥", "í„°ì¹˜ ì œìŠ¤ì²˜ ì§€ì›", "ì¡°ì ˆ ê°€ëŠ¥í•œ ìŠ¤íƒ ë“œ"]
    },
    "ì œì™¸_ìŠ¤í™": ["10ì¸ì¹˜ ë¯¸ë§Œì˜ ë””ìŠ¤í”Œë ˆì´", "4K ë¯¸ë§Œì˜ í•´ìƒë„", "8192 ë¯¸ë§Œì˜ ì••ë ¥ ê°ì§€ ë ˆë²¨"],
    "ê°€ê²©_ë²”ìœ„": {
        "ìµœì†Œ": {"value": 500000, "unit": "KRW"},
        "ìµœëŒ€": {"value": 1200000, "unit": "KRW"}
    }
}

async def main():
    """SpecRecommender ì‹¤í–‰"""
    recommender = SpecRecommender()
    recommendations = await recommender.generate_recommendations(user_input)

    print("\nğŸ”¹ **ì¶”ì²œ ì œí’ˆ ë¦¬ìŠ¤íŠ¸** ğŸ”¹\n")
    for product in recommendations.get("ì¶”ì²œ ì œí’ˆ", []):
        print(f"ğŸ“Œ **ì œí’ˆëª…:** {product['ì œí’ˆëª…']}")
        print(f"ğŸ’° **ê°€ê²©:** {product['ê°€ê²©']} KRW")
        print(f"âœ… **ì¥ì :** {product['ì¶”ì²œ ì´ìœ ']['ì¥ì ']}")
        print(f"âŒ **ë‹¨ì :** {product['ì¶”ì²œ ì´ìœ ']['ë‹¨ì ']}")
        print("\nğŸ¯ **í•µì‹¬ ì‚¬í•­:**")
        for spec in product["í•µì‹¬ ì‚¬í•­"]:
            print(f"  ğŸ”¹ {spec['í•­ëª©']}: {spec['ì‚¬ì–‘']} ({spec['ì„¤ëª…']})")
        print("\n" + "="*50 + "\n")

if __name__ == "__main__":
    asyncio.run(main())
